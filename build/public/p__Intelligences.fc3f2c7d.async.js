(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[6],{AhU0:function(e,t,n){"use strict";var a=n("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=i,n("cWXX");var l=a(n("/ezw")),s=a(n("q1tI"));function i(){return s.default.createElement("div",{style:{padding:"0 24px"}},s.default.createElement(l.default,{title:!1,active:!0,paragraph:{width:"100%",rows:6}}))}},DJ9g:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.REFRESH_INTELLIGENCES_FAIL=t.REFRESH_INTELLIGENCES_SUCCESS=t.REFRESH_INTELLIGENCES=t.RESET_INTELLIGENCES=void 0;var a="intelligences/resetIntelligences";t.RESET_INTELLIGENCES=a;var l="intelligences/refreshIntelligences";t.REFRESH_INTELLIGENCES=l;var s="intelligences/refreshIntelligencesSuccess";t.REFRESH_INTELLIGENCES_SUCCESS=s;var i="intelligences/refreshIntelligencesFail";t.REFRESH_INTELLIGENCES_FAIL=i},L5dd:function(e,t,n){"use strict";var a=n("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Intelligences=void 0,n("g9YV");var l=a(n("wCAj"));n("14J3");var s=a(n("BMrR"));n("qVdP");var i=a(n("jsC+"));n("jCWc");var r=a(n("kPKH"));n("Pwec");var o=a(n("CtXQ"));n("lUTK");var u=a(n("BvKs"));n("R9oj");var c=a(n("ECub")),d=a(n("p0pE"));n("miYZ");var f=a(n("tsqr")),g=a(n("d6i3")),p=a(n("1l/V"));n("sRBo");var m=a(n("kaz8"));n("+L6B");var h=a(n("2/Rp"));n("5NDa");var E=a(n("5rEg")),v=a(n("2Taf")),I=a(n("vZ4D")),y=a(n("MhPg")),S=a(n("l4Ni")),C=a(n("ujKo"));n("T2oS");var R=a(n("W9HT")),b=a(n("fFZ8")),w=n("Y2fQ"),M=n("Hx5s"),T=a(n("EVdn")),k=a(n("s/Ur")),F=a(n("q1tI")),N=a(n("LlRK")),A=a(n("LvDl")),L=n("MuoO"),x=a(n("Wgwc")),D=a(n("vOnD")),H=a(n("AhU0")),_=n("cC0H"),P=n("IvyP"),B=a(n("IE/S")),K=n("ydnR");function G(e){var t=U();return function(){var n,a=(0,C.default)(e);if(t){var l=(0,C.default)(this).constructor;n=Reflect.construct(a,arguments,l)}else n=a.apply(this,arguments);return(0,S.default)(this,n)}}function U(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function z(){var e=(0,b.default)(["\n  padding: 100px 0;\n"]);return z=function(){return e},e}var O=D.default.div(z()),j=F.default.createElement("div",{style:{textAlign:"center",paddingTop:10,paddingBottom:10}},F.default.createElement(R.default,null)),W=function(e){(0,y.default)(n,e);var t=G(n);function n(e){var a;return(0,v.default)(this,n),a=t.call(this,e),a.search=function(){a.setState({selectedRowKeys:[],selectedRows:[]}),a.props.dispatch((0,_.resetIntelligences)()),a.loadMoreIntelligences(null)},a.getColumnSearchProps=function(e){return{filterDropdown:function(t){var n=t.setSelectedKeys,l=t.selectedKeys,s=t.confirm,i=t.clearFilters;return F.default.createElement("div",{style:{padding:8}},F.default.createElement(E.default,{ref:function(e){a.searchInput=e},placeholder:"Search ".concat(e),value:l[0],onChange:function(e){return n(e.target.value?[e.target.value]:[])},onPressEnter:function(){return a.handleSearch(l,s,e)},style:{width:250,marginBottom:8,display:"block"}}),F.default.createElement(h.default,{type:"primary",onClick:function(){return a.handleSearch(l&&l[0],s,e)},size:"small",style:{width:90,marginRight:8}},F.default.createElement(w.FormattedMessage,{id:"app.common.messages.search"})),F.default.createElement(h.default,{onClick:function(){return a.handleReset(i,e)},size:"small",style:{width:90}},F.default.createElement(w.FormattedMessage,{id:"app.common.messages.reset"})))},onFilterDropdownVisibleChange:function(e){e&&setTimeout(function(){return a.searchInput.select()})}}},a.getColumnCheckboxProps=function(e,t){return{filterDropdown:function(n){var l=n.setSelectedKeys,s=n.selectedKeys,i=n.confirm,r=n.clearFilters;return F.default.createElement("div",{style:{padding:8},className:"intelligences-checkboxgroup"},F.default.createElement(m.default.Group,{options:t,defaultValue:s,onChange:function(t){a.filterConditions[e]=t,l(t)}}),F.default.createElement("div",null,F.default.createElement(h.default,{type:"primary",onClick:function(){return a.handleSearch(s,i,e)},size:"small",style:{width:90,marginRight:8}},F.default.createElement(w.FormattedMessage,{id:"app.common.messages.search"})),F.default.createElement(h.default,{onClick:function(){return a.handleReset(r,e)},size:"small",style:{width:90}},F.default.createElement(w.FormattedMessage,{id:"app.common.messages.reset"}))))}}},a.handleSearch=function(e,t,n){t(),a.setState({searchText:e}),a.filterConditions[n]=e,a.search()},a.handleReset=function(e,t){e(),a.setState({searchText:""}),delete a.filterConditions[t],a.search()},a.props.dispatch((0,_.resetIntelligences)()),a.state={selectedRowKeys:[],selectedRows:[],loadingMore:!1,loadingIntelligencesData:!0,contentHeight:window.innerHeight,operationBtns:{pausing:!1,resuming:!1,deleting:!1}},a.filterConditions={},a.lastScrollHeight=0,a.resizeTimeoutHandler=void 0,(0,T.default)(window).unbind("resize"),(0,T.default)(window).bind("resize",function(){clearTimeout(a.resizeTimeoutHandler),a.resizeTimeoutHandler=setTimeout(function(){a.setState({contentHeight:window.innerHeight})},500)}),a}return(0,I.default)(n,[{key:"componentDidMount",value:function(){this.initIntelligencesData()}},{key:"componentDidUpdate",value:function(){var e=this;(0,T.default)(".intelligence-table-container .ant-table-body").unbind("scroll"),(0,T.default)(".intelligence-table-container .ant-table-body").bind("scroll",function(){var t=(0,T.default)(".intelligence-table-container .ant-table-body").scrollTop(),n=(0,T.default)(".intelligence-table-container .ant-table-body").outerHeight(),a=document.querySelector(".intelligence-table-container .ant-table-body"),l=a.scrollHeight;l-t-n<200&&e.props.intelligences.nextCursor&&(e.state.loadingMore||(e.lastScrollHeight=l,e.loadMoreIntelligences()))})}},{key:"componentWillUnmount",value:function(){(0,T.default)(window).unbind("resize")}},{key:"onPauseAll",value:function(){var e=(0,p.default)(g.default.mark(function e(){var t;return g.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,this.state.selectedRows&&this.state.selectedRows.length&&(t=this.state.selectedRows.map(function(e){return e.globalId})),this.setState({operationBtns:{pausing:!0,deleting:!1,resuming:!1}}),e.next=5,(0,P.pauseIntelligencesForManagementAPI)(this.filterConditions.url,t,this.filterConditions.state);case 5:this.setState({operationBtns:{pausing:!1,deleting:!1,resuming:!1}}),this.initIntelligencesData(),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),this.setState({operationBtns:{pausing:!1,deleting:!1,resuming:!1}});case 12:case"end":return e.stop()}},e,this,[[0,9]])}));function t(){return e.apply(this,arguments)}return t}()},{key:"onResumeAll",value:function(){var e=(0,p.default)(g.default.mark(function e(){var t;return g.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,this.state.selectedRows&&this.state.selectedRows.length&&(t=this.state.selectedRows.map(function(e){return e.globalId})),this.setState({operationBtns:{pausing:!1,deleting:!1,resuming:!0}}),e.next=5,(0,P.resumeIntelligencesForManagementAPI)(this.filterConditions.url,t,this.filterConditions.state);case 5:this.setState({operationBtns:{pausing:!1,deleting:!1,resuming:!1}}),this.initIntelligencesData(),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),this.setState({operationBtns:{pausing:!1,deleting:!1,resuming:!1}});case 12:case"end":return e.stop()}},e,this,[[0,9]])}));function t(){return e.apply(this,arguments)}return t}()},{key:"onDeleteAll",value:function(){var e=(0,p.default)(g.default.mark(function e(){var t;return g.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,this.state.selectedRows&&this.state.selectedRows.length&&(t=this.state.selectedRows.map(function(e){return e.globalId})),this.setState({operationBtns:{pausing:!1,deleting:!0,resuming:!1}}),e.next=5,(0,P.deleteIntelligencesOrHistoryForManagementAPI)(this.filterConditions.url,t,this.filterConditions.state);case 5:f.default.success((0,w.formatMessage)({id:"app.containers.Intelligences.deleteAllSuccessful"})),this.setState({operationBtns:{pausing:!1,deleting:!1,resuming:!1}}),this.initIntelligencesData(),e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](0),this.setState({operationBtns:{pausing:!1,deleting:!1,resuming:!1}});case 13:case"end":return e.stop()}},e,this,[[0,10]])}));function t(){return e.apply(this,arguments)}return t}()},{key:"loadMoreIntelligences",value:function(e){var t=this;this.setState({loadingMore:!0}),void 0===e&&(e=this.props.intelligences.nextCursor),(0,P.getIntelligencesOrHistoryForManagementAPI)(e,this.filterConditions.url,this.filterConditions.state).then(function(e){t.props.dispatch((0,_.refreshIntelligencesSuccess)(e)),t.setState({loadingMore:!1})},function(e){t.props.dispatch((0,_.refreshIntelligencesFail)(e)),t.setState({loadingMore:!1})})}},{key:"initIntelligencesData",value:function(){var e=this;this.props.dispatch((0,_.resetIntelligences)()),this.setState({loadingIntelligencesData:!0,selectedRowKeys:[],selectedRows:[]}),(0,P.getIntelligencesOrHistoryForManagementAPI)(void 0,this.filterConditions.url,this.filterConditions.state).then(function(t){e.setState({loadingIntelligencesData:!1}),e.props.dispatch((0,_.refreshIntelligencesSuccess)(t))},function(t){e.setState({loadingIntelligencesData:!1}),e.props.dispatch((0,_.refreshIntelligencesFail)(t))})}},{key:"render",value:function(){var e=this,t=this.state,n=t.loadingIntelligencesData,a=t.contentHeight,f=t.loadingMore,g=this.props.intelligences,p=F.default.createElement(H.default,null),m=[(0,d.default)({title:"Target URL",dataIndex:"url",filteredValue:this.filterConditions.url},this.getColumnSearchProps("url")),(0,d.default)({title:(0,w.formatMessage)({id:"app.common.messages.state"}),dataIndex:"system.state",render:function(e){return F.default.createElement(B.default,{state:e})},filteredValue:this.filterConditions.state},this.getColumnCheckboxProps("state",[{label:(0,w.formatMessage)({id:"app.common.messages.stateDraft"}),value:"DRAFT"},{label:(0,w.formatMessage)({id:"app.common.messages.stateConfigured"}),value:"CONFIGURED"},{label:(0,w.formatMessage)({id:"app.common.messages.stateFinished"}),value:"FINISHED"},{label:(0,w.formatMessage)({id:"app.common.messages.stateRunning"}),value:"RUNNING"},{label:(0,w.formatMessage)({id:"app.common.messages.stateFailed"}),value:"FAILED"},{label:(0,w.formatMessage)({id:"app.common.messages.statePaused"}),value:"PAUSED"},{label:(0,w.formatMessage)({id:"app.common.messages.stateTimeout"}),value:"TIMEOUT"}])),{title:(0,w.formatMessage)({id:"app.common.messages.analystState"}),dataIndex:"soi.state",render:function(e){var t=e;return t===K.STATES.failed?t=K.STATES.lostConnection:t===K.STATES.active&&(t=K.STATES.connected),F.default.createElement(B.default,{state:t})}},{title:"Last Modified At",dataIndex:"system.modified",render:function(e){return(0,x.default)(e).format("YYYY/MM/DD HH:mm:ss")}}],E={selectedRowKeys:this.state.selectedRowKeys,onChange:function(t,n){e.setState({selectedRowKeys:t,selectedRows:n})}};if(!n)if(g.data&&g.data.length||A.default.keys(this.filterConditions).length){var v=g&&g.total||0;this.state.selectedRows&&this.state.selectedRows.length&&(v=this.state.selectedRows.length);var I=!1;(this.state.operationBtns.pausing||this.state.operationBtns.resuming||this.state.operationBtns.deleting)&&(I=!0),v&&!n||(I=!0);var y=F.default.createElement(u.default,null,F.default.createElement(u.default.Item,null,F.default.createElement(h.default,{type:"link",onClick:function(){e.onPauseAll()},disabled:I,loading:this.state.operationBtns.pausing},F.default.createElement(w.FormattedMessage,{id:"app.containers.Intelligences.pauseAll",values:{intelligenceNumber:v}}))),F.default.createElement(u.default.Item,null,F.default.createElement(h.default,{type:"link",onClick:function(){e.onResumeAll()},disabled:I,loading:this.state.operationBtns.resuming},F.default.createElement(w.FormattedMessage,{id:"app.containers.Intelligences.resumeAll",values:{intelligenceNumber:v}}))),F.default.createElement(u.default.Item,null,F.default.createElement(h.default,{type:"link",onClick:function(){e.onDeleteAll()},disabled:I,loading:this.state.operationBtns.deleting},F.default.createElement(w.FormattedMessage,{id:"app.containers.Intelligences.deleteAll",values:{intelligenceNumber:v}})))),S=F.default.createElement("div",{style:{display:"inline-block"}},F.default.createElement("div",{style:{display:"inline-block"}},F.default.createElement("span",null,"Show ".concat(A.default.get(g,"data.length")," of ").concat(g.total," intelligences"))),F.default.createElement(h.default,{type:"link",onClick:function(){return e.initIntelligencesData()},disabled:n},F.default.createElement(N.default,{date:g.modified}),F.default.createElement(o.default,{type:"sync",style:{verticalAlign:"middle",marginLeft:"5px"},spin:n})));p=F.default.createElement("div",{className:"intelligence-table-container"},F.default.createElement("div",null,F.default.createElement("div",{style:{paddingBottom:"15px"}},F.default.createElement(s.default,null,F.default.createElement(k.default,{minWidth:1444},F.default.createElement(r.default,{span:14},F.default.createElement(h.default,{onClick:function(){e.onPauseAll()},disabled:I,loading:this.state.operationBtns.pausing},F.default.createElement(w.FormattedMessage,{id:"app.containers.Intelligences.pauseAll",values:{intelligenceNumber:v}})),F.default.createElement(h.default,{onClick:function(){e.onResumeAll()},style:{marginLeft:"10px"},disabled:I,loading:this.state.operationBtns.resuming},F.default.createElement(w.FormattedMessage,{id:"app.containers.Intelligences.resumeAll",values:{intelligenceNumber:v}})),F.default.createElement(h.default,{onClick:function(){e.onDeleteAll()},style:{marginLeft:"10px"},disabled:I,loading:this.state.operationBtns.deleting},F.default.createElement(w.FormattedMessage,{id:"app.containers.Intelligences.deleteAll",values:{intelligenceNumber:v}}))),F.default.createElement(r.default,{span:10,style:{textAlign:"right"}},S)),F.default.createElement(k.default,{maxWidth:1444},F.default.createElement(r.default,{span:3},F.default.createElement(i.default,{overlay:y},F.default.createElement(h.default,null,F.default.createElement(o.default,{type:"menu"})))),F.default.createElement(r.default,{span:21,style:{textAlign:"right"}},S)))),F.default.createElement(l.default,{className:"",pagination:!1,bordered:!0,columns:m,rowSelection:E,dataSource:g.data,rowKey:function(e){return e.globalId},scroll:{y:a-310},onRow:function(e){return{onClick:function(){}}}}),f?j:""))}else p=F.default.createElement(O,null,F.default.createElement(c.default,{description:F.default.createElement("span",null,F.default.createElement(w.FormattedHTMLMessage,{id:"app.containers.Intelligences.emptyIntelligences"}))}));return F.default.createElement("div",{style:{padding:"20px"}},F.default.createElement(M.PageHeaderWrapper,null,p))}}]),n}(F.default.Component);t.Intelligences=W;var V=(0,L.connect)(function(e){var t=e.intelligences;return{intelligences:t}})(W);t.default=V},WMyo:function(e,t,n){"use strict";var a=n("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=a(n("L5dd")),s=a(n("q1tI")),i=function(){return s.default.createElement(l.default,null)};t.default=i},cC0H:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resetIntelligences=l,t.refreshIntelligences=s,t.refreshIntelligencesSuccess=i,t.refreshIntelligencesFail=r;var a=n("DJ9g");function l(){return{type:a.RESET_INTELLIGENCES}}function s(){return{type:a.REFRESH_INTELLIGENCES}}function i(e){return{type:a.REFRESH_INTELLIGENCES_SUCCESS,total:e.total,intelligences:e.intelligences,nextCursor:e.nextCursor,previousCursor:e.previousCursor}}function r(e){return{type:a.REFRESH_INTELLIGENCES_FAIL,error:e}}}}]);