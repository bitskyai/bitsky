(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[7],{"0VuZ":function(e,t,a){"use strict";var s=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=s(a("q1tI")),r=s(a("ASzm")),n=function(){return l.default.createElement(r.default,null)};t.default=n},ASzm:function(e,t,a){"use strict";var s=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.SoisNew=void 0,a("g9YV");var l=s(a("wCAj"));a("14J3");var r=s(a("BMrR"));a("Pwec");var n=s(a("CtXQ"));a("jCWc");var o=s(a("kPKH"));a("R9oj");var i=s(a("ECub"));a("P2fV");var d=s(a("NJEC"));a("+L6B");var u=s(a("2/Rp"));a("miYZ");var c=s(a("tsqr")),f=s(a("2Taf")),p=s(a("vZ4D")),m=s(a("MhPg")),g=s(a("l4Ni")),S=s(a("ujKo")),h=s(a("fFZ8"));a("lv4E");var E=a("Y2fQ"),v=a("Hx5s"),y=s(a("q1tI")),M=s(a("LlRK")),I=a("MuoO"),b=s(a("vOnD")),O=s(a("KP/F")),w=s(a("WYIA")),D=a("sovp"),P=a("uSbk"),R=a("ydnR"),k=s(a("IE/S"));function T(e){var t=C();return function(){var a,s=(0,S.default)(e);if(t){var l=(0,S.default)(this).constructor;a=Reflect.construct(s,arguments,l)}else a=s.apply(this,arguments);return(0,g.default)(this,a)}}function C(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function F(){var e=(0,h.default)(["\n  padding: 100px 0;\n"]);return F=function(){return e},e}var x=b.default.div(F()),H={margin:"0 0 0 0"},L=function(e){(0,m.default)(a,e);var t=T(a);function a(e){var s;return(0,f.default)(this,a),s=t.call(this,e),s.state={loadingData:!0,selectedRowKeys:[],drawerVisiable:!1,selectedSOI:void 0},s}return(0,p.default)(a,[{key:"componentDidMount",value:function(){this.initSoisData()}},{key:"onRegisterSOI",value:function(){this.setState({drawerVisiable:!0,selectedSOI:void 0})}},{key:"onShowDrawer",value:function(e){this.setState({drawerVisiable:!0,selectedSOI:e})}},{key:"onCloseDrawer",value:function(){this.setState({drawerVisiable:!1,selectedSOI:void 0})}},{key:"onDeleteASOI",value:function(e,t){var a=this;t.preventDefault(),t.stopPropagation(),(0,P.deleteASOIAPI)(e.globalId).then(function(){a.props.dispatch((0,D.refreshSOIs)());var e=(0,E.formatMessage)({id:"app.containers.Sois.deleteSOISuccessful"});c.default.success(e)},function(e){c.default.error(e)})}},{key:"onPingSOI",value:function(e,t){var a=this;t.preventDefault(),t.stopPropagation(),(0,P.pingSOIAPI)(e.globalId).then(function(e){e&&e.state===R.STATES.active?c.default.success((0,E.formatMessage)({id:"app.containers.Sois.pingSuccessful"})):c.default.error((0,E.formatMessage)({id:"app.containers.Sois.pingFail"})),a.props.dispatch((0,D.refreshSOIs)())},function(){c.default.error((0,E.formatMessage)({id:"app.containers.Sois.pingFail"})),a.props.dispatch((0,D.refreshSOIs)())})}},{key:"initSoisData",value:function(){var e=this;this.setState({loadingData:!0}),(0,P.getSOIs)().then(function(t){e.setState({loadingData:!0}),e.props.dispatch((0,D.refreshSOIsSuccess)(t))},function(t){e.setState({loadingData:!0}),e.props.dispatch((0,D.refreshSOIsFail)(t))})}},{key:"render",value:function(){var e=this,t=this.state,s=t.loadingData,c=t.drawerVisiable,f=t.selectedSOI,p=t.selectedRowKeys,m=this.props.soisData.data,g=this.props.soisData.modifiedAt,S=y.default.createElement(O.default,null),h=[{title:(0,E.formatMessage)({id:"app.containers.Sois.soiName"}),dataIndex:"name"},{title:(0,E.formatMessage)({id:"app.containers.Sois.baseURL"}),dataIndex:"baseURL"},{title:(0,E.formatMessage)({id:"app.common.messages.connection"}),dataIndex:"system.state",render:function(e){var t=e;return t===R.STATES.failed?t=R.STATES.lostConnection:t===R.STATES.active&&(t=R.STATES.connected),y.default.createElement(k.default,{state:t})}},{title:"Action",dataIndex:"",key:"x",render:function(t,s){return y.default.createElement("div",{onClick:function(e){a.onPreventShowDrawer(e)}},y.default.createElement(u.default,{type:"link",size:"small",style:H,title:(0,E.formatMessage)({id:"app.containers.Sois.pingDescription"}),onClick:function(t){e.onPingSOI(s,t)}},(0,E.formatMessage)({id:"app.containers.Sois.ping"})),y.default.createElement(d.default,{style:{maxWidth:"300px"},title:(0,E.formatMessage)({id:"app.containers.Sois.deleteSOIDescription"}),onConfirm:function(t){e.onDeleteASOI(s,t)},onCancel:function(e){a.onClickCancel(s,e)},okText:(0,E.formatMessage)({id:"app.common.messages.yes"}),cancelText:(0,E.formatMessage)({id:"app.common.messages.no"})},y.default.createElement(u.default,{type:"link",size:"small",style:H,onClick:function(e){a.onClickDelete(s,e)}},(0,E.formatMessage)({id:"app.common.messages.delete"}))))}}];return s&&(S=m&&m.length?y.default.createElement("div",{className:"sois-table-container"},y.default.createElement("div",null,y.default.createElement("div",{style:{paddingBottom:"15px"}},y.default.createElement(r.default,null,y.default.createElement(o.default,{span:14},y.default.createElement(u.default,{onClick:function(){e.onRegisterSOI()},type:"primary"},(0,E.formatMessage)({id:"app.containers.Sois.registerNow"}))),y.default.createElement(o.default,{span:10,style:{textAlign:"right"}},y.default.createElement(u.default,{type:"link",onClick:function(){return e.initSoisData()}},y.default.createElement(M.default,{date:g}),y.default.createElement(n.default,{type:"sync",style:{verticalAlign:"middle",marginLeft:"5px"}}))))),y.default.createElement("div",{style:{backgroundColor:"white"}},y.default.createElement(l.default,{bordered:!0,pagination:!1,rowClassName:function(e){var t=!1;return p.forEach(function(a){a===e.globalId&&(t=!0)}),t?"selected-row":""},columns:h,dataSource:m,rowKey:function(e){return e.globalId},onRow:function(t){return{onClick:function(){e.setState({selectedRowKeys:[t.globalId]}),e.onShowDrawer(t)}}}})))):y.default.createElement(x,null,y.default.createElement(i.default,{description:y.default.createElement("span",null,y.default.createElement(E.FormattedHTMLMessage,{id:"app.containers.Sois.emptySOIs"}))},y.default.createElement(u.default,{type:"primary",onClick:function(){e.onRegisterSOI()}},(0,E.formatMessage)({id:"app.containers.Sois.registerNow"}))))),y.default.createElement("div",{style:{padding:"20px"}},y.default.createElement(v.PageHeaderWrapper,null,S,y.default.createElement(w.default,{visiable:c,onCloseDrawer:function(){e.onCloseDrawer()},soi:f,dispatch:this.props.dispatch})))}}],[{key:"onPreventShowDrawer",value:function(e){e.preventDefault(),e.stopPropagation()}},{key:"onClickCancel",value:function(e,t){t.preventDefault(),t.stopPropagation()}},{key:"onClickDelete",value:function(e,t){t.preventDefault(),t.stopPropagation()}}]),a}(y.default.Component);t.SoisNew=L;var _=(0,I.connect)(function(e){var t=e.sois;return{soisData:t}})(L);t.default=_},"DGh+":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.REFRESH_SOIS_FAIL=t.REFRESH_SOIS_SUCCESS=t.REFRESH_SOIS=void 0;var s="sois/refreshSois";t.REFRESH_SOIS=s;var l="sois/refreshSoisSuccess";t.REFRESH_SOIS_SUCCESS=l;var r="sois/refreshSoisFail";t.REFRESH_SOIS_FAIL=r},"KP/F":function(e,t,a){"use strict";var s=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,a("cWXX");var l=s(a("/ezw")),r=s(a("q1tI"));function n(){return r.default.createElement("div",{style:{padding:"0 24px"}},r.default.createElement(l.default,{title:!1,active:!0,paragraph:{width:"100%",rows:6}}))}},WYIA:function(e,t,a){"use strict";var s=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("bbsP");var l=s(a("/wGt"));a("+L6B");var r=s(a("2/Rp"));a("14J3");var n=s(a("BMrR"));a("jCWc");var o=s(a("kPKH"));a("OaEy");var i=s(a("2fM7"));a("y8nQ");var d=s(a("Vl3Y"));a("5NDa");var u=s(a("5rEg")),c=s(a("p0pE")),f=s(a("d6i3"));a("miYZ");var p=s(a("tsqr")),m=s(a("1l/V")),g=s(a("2Taf")),S=s(a("vZ4D")),h=s(a("MhPg")),E=s(a("l4Ni")),v=s(a("ujKo")),y=s(a("fFZ8"));a("tU7J");var M=s(a("wFql")),I=a("Y2fQ"),b=(s(a("17x9")),s(a("q1tI"))),O=s(a("LvDl")),w=s(a("vOnD")),D=a("+n12"),P=a("sovp"),R=a("uSbk");function k(e){var t=T();return function(){var a,s=(0,v.default)(e);if(t){var l=(0,v.default)(this).constructor;a=Reflect.construct(s,arguments,l)}else a=s.apply(this,arguments);return(0,E.default)(this,a)}}function T(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function C(){var e=(0,y.default)(["\n  padding: 5px 0;\n  margin-bottom: 0 !important;\n"]);return C=function(){return e},e}var F=M.default.Paragraph,x=(0,w.default)(F)(C()),H={marginBottom:0},L=function(e){(0,h.default)(a,e);var t=k(a);function a(){var e;(0,g.default)(this,a);for(var s=arguments.length,l=new Array(s),r=0;r<s;r++)l[r]=arguments[r];return e=t.call.apply(t,[this].concat(l)),e.state={sending:!1},e.registerSOI=function(t){t.preventDefault(),e.setState({sending:!0}),e.props.form.validateFieldsAndScroll(function(){var t=(0,m.default)(f.default.mark(function t(a,s){var l;return f.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(a){t.next=23;break}if(t.prev=1,!e.props.soi){t.next=9;break}return s.globalId=e.props.soi.globalId,t.next=6,(0,R.updateSOI)(s);case 6:e.props.dispatch((0,P.refreshSOIs)()),t.next=12;break;case 9:return t.next=11,(0,R.registerASOI)(s);case 11:e.props.dispatch((0,P.refreshSOIs)());case 12:l=(0,I.formatMessage)({id:"app.containers.Sois.registerSOISuccessful"}),p.default.success(l),e.setState({sending:!1}),e.props.onCloseDrawer(),t.next=21;break;case 18:t.prev=18,t.t0=t["catch"](1),e.setState({sending:!1});case 21:t.next=24;break;case 23:e.setState({sending:!1});case 24:case"end":return t.stop()}},t,null,[[1,18]])}));return function(e,a){return t.apply(this,arguments)}}())},e}return(0,S.default)(a,[{key:"render",value:function(){var e=this.props.form,t=e.getFieldsValue,a=e.getFieldDecorator,s=e.isFieldsTouched,f=this.props.soi,p=!0,m=(0,I.formatMessage)({id:"app.containers.Sois.drawerTitle"}),g=(0,I.formatMessage)({id:"app.containers.Sois.registerNow"});if(this.props.soi&&this.props.soi.globalId&&(m=(0,I.formatMessage)({id:"app.containers.Sois.drawerTitleUpdate"}),g=(0,I.formatMessage)({id:"app.common.messages.save"})),s()){var S=t();S.globalId=f&&f.globalId,S=(0,c.default)({},f,S),S=(0,D.filterOutEmptyValue)(S),f=(0,D.filterOutEmptyValue)(f),p=!!O.default.isEqual(S,f)}return b.default.createElement("div",null,b.default.createElement(l.default,{destroyOnClose:!0,title:m,width:720,onClose:this.props.onCloseDrawer,visible:this.props.visiable},b.default.createElement("p",null,(0,I.formatMessage)({id:"app.containers.Sois.registerSOIDescription"})),b.default.createElement(d.default,{layout:"vertical",style:{paddingBottom:"35px"}},b.default.createElement(d.default.Item,{label:(0,I.formatMessage)({id:"app.containers.Sois.soiName"}),style:H},a("name",{initialValue:this.props.soi&&this.props.soi.name,rules:[{required:!0,message:(0,I.formatMessage)({id:"app.containers.Sois.soiNamePlaceholder"})},{min:1,max:100,message:(0,I.formatMessage)({id:"app.containers.Sois.soiNameInvalid"})}]})(b.default.createElement(u.default,{placeholder:(0,I.formatMessage)({id:"app.containers.Sois.soiNameExample"})})),b.default.createElement(x,null,(0,I.formatMessage)({id:"app.containers.Sois.soiNameDescription"}))),this.props.soi?b.default.createElement(d.default.Item,{label:(0,I.formatMessage)({id:"app.containers.Sois.globalId"}),style:H},a("globalId",{rules:[]})(b.default.createElement(F,{copyable:!0},this.props.soi.globalId)),b.default.createElement(x,null,b.default.createElement(I.FormattedHTMLMessage,{id:"app.containers.Sois.globalIdDescription"}))):"",b.default.createElement(d.default.Item,{label:(0,I.formatMessage)({id:"app.containers.Sois.baseURL"}),style:H},a("baseURL",{initialValue:this.props.soi&&this.props.soi.baseURL,rules:[{required:!0,message:(0,I.formatMessage)({id:"app.containers.Sois.baseURLEmptyError"})},{pattern:/^(http:\/\/www\.|https:\/\/www\.|http:\/\/|https:\/\/)([a-z0-9\.])*(:[0-9]{1,5})?(\/.*)?$/i,message:(0,I.formatMessage)({id:"app.containers.Sois.baseURLEmptyError"})}]})(b.default.createElement(u.default,{placeholder:(0,I.formatMessage)({id:"app.containers.Sois.baseURLExample"})})),b.default.createElement(x,null,b.default.createElement(I.FormattedHTMLMessage,{id:"app.containers.Sois.baseURLDescription"}))),b.default.createElement("h3",null,b.default.createElement(I.FormattedMessage,{id:"app.containers.Sois.callbackSectionTitle"})),b.default.createElement("p",null,b.default.createElement(I.FormattedHTMLMessage,{id:"app.containers.Sois.callbackDescription"})),b.default.createElement(n.default,{gutter:16},b.default.createElement(o.default,{span:8},b.default.createElement(d.default.Item,{label:(0,I.formatMessage)({id:"app.containers.Sois.httpMethod"}),style:H},a("callback.method",{initialValue:O.default.get(this,"props.soi.callback.method","POST"),rules:[{required:!0,message:(0,I.formatMessage)({id:"app.containers.Sois.httpMethodPlaceHolder"})}]})(b.default.createElement(i.default,{placeholder:(0,I.formatMessage)({id:"app.containers.Sois.httpMethodPlaceHolder"})},b.default.createElement(i.default.Option,{value:"GET"},"GET"),b.default.createElement(i.default.Option,{value:"POST"},"POST"),b.default.createElement(i.default.Option,{value:"PUT"},"PUT"),b.default.createElement(i.default.Option,{value:"DELETE"},"DELETE"))),b.default.createElement(x,null,b.default.createElement(I.FormattedHTMLMessage,{id:"app.containers.Sois.httpMethodDescription"})))),b.default.createElement(o.default,{span:16},b.default.createElement(d.default.Item,{label:(0,I.formatMessage)({id:"app.common.messages.urlPath"}),style:H},a("callback.path",{initialValue:O.default.get(this,"props.soi.callback.path","/apis/tasks"),rules:[{required:!0,message:(0,I.formatMessage)({id:"app.common.messages.urlPathPlaceHolder"})}]})(b.default.createElement(u.default,{placeholder:(0,I.formatMessage)({id:"app.common.messages.urlPathPlaceHolder"})})),b.default.createElement(x,null,b.default.createElement(I.FormattedHTMLMessage,{id:"app.common.messages.urlPathDescription"}))))),b.default.createElement("h3",null,b.default.createElement(I.FormattedMessage,{id:"app.common.messages.healthTitle"})),b.default.createElement("p",null,b.default.createElement(I.FormattedHTMLMessage,{id:"app.containers.Sois.healthDescription"})),b.default.createElement(n.default,{gutter:16},b.default.createElement(o.default,{span:8},b.default.createElement(d.default.Item,{label:(0,I.formatMessage)({id:"app.containers.Sois.httpMethod"}),style:H},a("health.method",{initialValue:O.default.get(this,"props.soi.health.method","GET"),rules:[{required:!0,message:(0,I.formatMessage)({id:"app.containers.Sois.httpMethodPlaceHolder"})}]})(b.default.createElement(i.default,{placeholder:(0,I.formatMessage)({id:"app.containers.Sois.httpMethodPlaceHolder"})},b.default.createElement(i.default.Option,{value:"GET"},"GET"),b.default.createElement(i.default.Option,{value:"POST"},"POST"),b.default.createElement(i.default.Option,{value:"PUT"},"PUT"),b.default.createElement(i.default.Option,{value:"DELETE"},"DELETE"))),b.default.createElement(x,null,b.default.createElement(I.FormattedHTMLMessage,{id:"app.containers.Sois.httpMethodDescription"})))),b.default.createElement(o.default,{span:16},b.default.createElement(d.default.Item,{label:(0,I.formatMessage)({id:"app.common.messages.urlPath"}),style:H},a("health.path",{initialValue:O.default.get(this,"props.soi.health.path","/health"),rules:[{required:!0,message:(0,I.formatMessage)({id:"app.common.messages.urlPathPlaceHolder"})}]})(b.default.createElement(u.default,{placeholder:(0,I.formatMessage)({id:"app.common.messages.urlPathPlaceHolder"})})),b.default.createElement(x,null,b.default.createElement(I.FormattedHTMLMessage,{id:"app.common.messages.urlPathDescription"})))))),b.default.createElement("div",{style:{position:"absolute",left:0,bottom:0,width:"100%",borderTop:"1px solid #e9e9e9",padding:"10px 16px",background:"#fff",textAlign:"right"}},b.default.createElement(r.default,{onClick:this.props.onCloseDrawer,style:{marginRight:8}},b.default.createElement(I.FormattedMessage,{id:"app.common.messages.cancel"})),b.default.createElement(r.default,{disabled:p,loading:this.state.sending,onClick:this.registerSOI,type:"primary"},g))))}}]),a}(b.default.Component),_=d.default.create()(L);t.default=_},lv4E:function(e,t,a){e.exports={"selected-row":"antd-pro-containers-sois-style.css-selected-row"}},sovp:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.refreshSOIs=l,t.refreshSOIsSuccess=r,t.refreshSOIsFail=n;var s=a("DGh+");function l(){return{type:s.REFRESH_SOIS}}function r(e){return{type:s.REFRESH_SOIS_SUCCESS,payload:e}}function n(e){return{type:s.REFRESH_SOIS_FAIL,error:e}}}}]);